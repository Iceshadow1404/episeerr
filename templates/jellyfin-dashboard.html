<!-- Improved Jellyfin Dashboard View -->
<div id="jellyfin-view-section" class="jellyfin-subsection">
    

    <div class="row mb-3">
        <div class="col-12">
            <div class="card bg-dark">
                <div class="card-body py-2 px-3 d-flex justify-content-between align-items-center">
                    <!-- Ticker container -->
                    <div class="ticker-container d-none d-md-block">
                        <div class="ticker-wrapper">
                            <div class="ticker-content" id="jellyfin-ticker">
                                <!-- Content populated via JavaScript -->
                            </div>
                        </div>
                    </div>
                    <!-- Stats container -->
                    <div class="small text-right" style="white-space: nowrap">
                        <span class="text-muted mr-1"><i class="fas fa-film"></i></span>
                        <span id="jellyfin-library-movies">0</span>
                        <span class="text-muted ml-2 mr-1">|</span>
                        <span class="text-muted mr-1"><i class="fas fa-tv"></i></span>
                        <span id="jellyfin-library-tv">0</span>
                    </div>
                    <!-- Settings icon separate from stats -->
                    <span class="ml-2">
                        <i class="fas fa-cog ticker-settings" 
                           data-toggle="modal"
                           data-target="#tickerSettingsModal"
                           data-section="jellyfin"
                           title="Configure ticker feed"></i>
                    </span>
                </div>
            </div>
        </div>
    </div>
   
    <!-- Recently Added Content Row -->
    <div class="content-row">
        <header class="row-header">
            <h4>Recently Added to Library</h4>
            <div class="row-controls">
                <button class="scroll-btn scroll-start" onclick="scrollRowToStart(this)">⏮️</button>
                <button class="scroll-btn scroll-left" onclick="scrollRowLeft(this)">←</button>
                <button class="scroll-btn scroll-right" onclick="scrollRowRight(this)">→</button>
            </div>
        </header>
        <div class="scrollable-row" id="jellyfin-recent-additions-row">
            <div class="loading-indicator">Loading recent additions...</div>
        </div>
    </div>
    
    <!-- Recommendations Row -->
    <div class="content-row">
        <header class="row-header">
            <h4>Recommended For You</h4>
            <div class="row-controls">
                <button class="scroll-btn scroll-start" onclick="scrollRowToStart(this)">⏮️</button>
                <button class="scroll-btn scroll-left" onclick="scrollRowLeft(this)">←</button>
                <button class="scroll-btn scroll-right" onclick="scrollRowRight(this)">→</button>
            </div>
        </header>
        <div class="scrollable-row" id="jellyfin-recommendations-row">
            <div class="loading-indicator">Loading recommendations...</div>
        </div>
    </div>
    
    <!-- Favorites Content Row -->
    <div class="content-row">
        <header class="row-header">
            <h4>Your Favorites</h4>
            <div class="row-controls">
                <button class="scroll-btn scroll-start" onclick="scrollRowToStart(this)">⏮️</button>
                <button class="scroll-btn scroll-left" onclick="scrollRowLeft(this)">←</button>
                <button class="scroll-btn scroll-right" onclick="scrollRowRight(this)">→</button>
            </div>
        </header>
        <div class="scrollable-row" id="jellyfin-favorites-row">
            <div class="loading-indicator">Loading favorites...</div>
        </div>
    </div>
    
    <script src="{{ url_for('static', filename='jellyfin-dashboard.js') }}"></script>
    <script src="{{ url_for('static', filename='index.js') }}"></script>
</div>