<!-- Improved Plex Watchlist/Dashboard View -->
<div id="watchlist-view-section" class="watchlist-subsection">
    <div class="row mb-3">
    <div class="col-12">
        <div class="card bg-dark">
            <div class="card-body py-2 px-3 d-flex justify-content-between align-items-center">
                <!-- Ticker container -->
                <div class="ticker-container d-none d-md-block">
                    <div class="ticker-wrapper">
                        <div class="ticker-content" id="plex-ticker">
                            <!-- Content populated via JavaScript -->
                        </div>
                    </div>
                </div>
                <!-- Stats container -->
                <div class="small text-right" style="white-space: nowrap">
                    <span class="text-muted mr-1"><i class="fas fa-archive"></i></span>
                    <span id="library-movies">0</span>
                    <span class="text-muted ml-2 mr-1">|</span>
                    <span class="text-muted mr-1"><i class="fas fa-desktop"></i></span>
                    <span id="library-tv">0</span>
                    <span class="text-muted ml-2 mr-1">|</span>
                    <span class="text-muted mr-1"><i class="fas fa-eye"></i></span>
                    <span id="watchlist-movies">0</span>
                    <span class="text-muted ml-2 mr-1">|</span>
                    <span class="text-muted mr-1"><i class="fas fa-bookmark"></i></span>
                    <span id="watchlist-tv">0</span>
                </div>
                <!-- Settings icon separate from stats -->
                <span class="ml-2">
                    <i class="fas fa-cog ticker-settings" 
                       data-toggle="modal"
                       data-target="#tickerSettingsModal"
                       data-section="plex"
                       title="Configure ticker feed"></i>
                </span>
            </div>
            </div>
        </div>
    </div>
   

    
    <!-- Recently Added Content Row -->
    <div class="content-row">
        <header class="row-header">
            <h4>Recently Added to Library</h4>
            <div class="row-controls">
                <button class="scroll-btn scroll-start" onclick="scrollRowToStart(this)">⏮️</button>
                <button class="scroll-btn scroll-left" onclick="scrollRowLeft(this)">←</button>
                <button class="scroll-btn scroll-right" onclick="scrollRowRight(this)">→</button>
            </div>
        </header>
        <div class="scrollable-row" id="recent-additions-row">
            <div class="loading-indicator">Loading recent additions...</div>
        </div>
    </div>
    
    <!-- Recommendations Row -->
    <div class="content-row">
        <header class="row-header">
            <h4>Recommended For You</h4>
            <div class="row-controls">
                <button class="scroll-btn scroll-start" onclick="scrollRowToStart(this)">⏮️</button>
                <button class="scroll-btn scroll-left" onclick="scrollRowLeft(this)">←</button>
                <button class="scroll-btn scroll-right" onclick="scrollRowRight(this)">→</button>
            </div>
        </header>
        <div class="scrollable-row" id="plex-recommendations-row">
            <div class="loading-indicator">Loading recommendations...</div>
        </div>
    </div>
</div>
<!-- Requests Row (replaced Missing Content Row) -->
<!-- Current Requests Row -->

<!-- Requests & Watchlist Content Row -->
<div class="content-row">
    <header class="row-header">
        <h4>Requests & Watchlist</h4>
        <div class="row-controls">
            <button class="scroll-btn scroll-start" onclick="scrollRowToStart(this)">⏮️</button>
            <button class="scroll-btn scroll-left" onclick="scrollRowLeft(this)">←</button>
            <button class="scroll-btn scroll-right" onclick="scrollRowRight(this)">→</button>
        </div>
    </header>
    <div class="scrollable-row" id="requests-row">
        <div class="loading-indicator">Loading requests and watchlist content...</div>
    </div>
</div>
    <script src="{{ url_for('static', filename='plex-watchlist.js') }}"></script>